### μ•„μ΄ν…38. ν™•μ¥ν•  μ μλ” μ—΄κ±° νƒ€μ…μ΄ ν•„μ”ν•λ©΄ μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•λΌ

**μ—΄κ±° νƒ€μ…**μ€ λ€λ¶€λ¶„μ μƒν™©μ—μ„ **νƒ€μ… μ•μ „ μ—΄κ±° ν¨ν„΄**λ³΄λ‹¤ μ°μν•λ‹¤.

λ‹¤λ§ ν• κ°€μ§€ μμ™Έκ°€ μλ‹¤. **νƒ€μ… μ•μ „ μ—΄κ±° ν¨ν„΄μ€ ν™•μ¥μ΄ κ°€λ¥ν•μ§€λ§, μ—΄κ±° νƒ€μ…μ€ λ¶κ°€λ¥ν•λ‹¤.**

μ—΄κ±° νƒ€μ…μ ν™•μ¥μ€ μΌλ°μ μΌλ΅ κ¶μ¥λμ§€ μ•λ”λ‹¤.

**β οΈΒ ν™•μ¥ μ‹ λ°μƒν•λ” μ£Όμ” λ¬Έμ μ **:

β€Ά νƒ€μ… κ°„ μΌκ΄€μ„± μ €ν•

β€Ά μ›μ† μνμ μ–΄λ ¤μ›€

β€Ά μ„¤κ³„/κµ¬ν„μ λ³µμ΅λ„ μ¦κ°€

ν™•μ¥ν•  μ μλ” μ—΄κ±° νƒ€μ…μ΄ μ–΄μΈλ¦¬λ” μ“°μ„μ΄ μµμ†ν• ν•λ‚λ” μλ‹¤.(μ—°μ‚° μ½”λ“μ™€ κ°™μ€ μ‚¬μ©μ ν™•μ¥ μ—°μ‚°μ„ μ¶”κ°€ν•  μ μλ„λ΅ μ—΄μ–΄μ¤μ•Όν•  λ•)

β…Β μ—΄κ±° νƒ€μ…μ€ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•  μ μλ‹¤λ” νΉμ§•μ„ ν™μ©ν•΄μ„ **ν™•μ¥ κ°€λ¥ν• μ—΄κ±° νƒ€μ…μ„ λ§λ“¤ μ μλ‹¤**. 

**μΈν„°νμ΄μ¤λ¥Ό μ •μν•κ³  μ—΄κ±° νƒ€μ…μ΄ μ΄λ¥Ό κµ¬ν„ν•λ©΄ λλ‹¤.**

μΈν„°νμ΄μ¤λ¥Ό μ •μν•κ³  ν™•μ¥κ°€λ¥ μ—΄κ±°νƒ€μ… κµ¬ν„ μμ‹)

```java
public interface Operation {
    double apply(double x, double y);
}
```

```java
public enum BasicOperation implements Operation {
    PLUS("+") {
        public double apply(double x, double y) { return x + y; }
    },
    MINUS("-") {
        public double apply(double x, double y) { return x - y; }
    },
    TIMES("*") {
        public double apply(double x, double y) { return x * y; }
    },
    DIVIDE("/") {
        public double apply(double x, double y) { return x / y; }
    };

    private final String symbol;

    BasicOperation(String symbol) {
        this.symbol = symbol;
    }

    @Override public String toString() {
        return symbol;
    }
}
```

β…Β μ—΄κ±° νƒ€μ…μΈ BasicOperationμ€ ν™•μ¥μ΄ λ¶κ°€λ¥ν•μ§€λ§, Operation μΈν„°νμ΄μ¤λ” ν™•μ¥ν•  μ μμ–΄ μ΄λ¥Ό μ—°μ‚°μ νƒ€μ…μΌλ΅ ν™μ©ν•  μ μλ‹¤. 

β†’ μ΄λ¥Ό ν†µν•΄ Operationμ„ κµ¬ν„ν•λ” **μƒλ΅μ΄ μ—΄κ±° νƒ€μ…μ„ μ •μ**ν•μ—¬ κΈ°λ³Έ νƒ€μ…μΈ BasicOperationμ„ λ€μ²΄ν•  μ μλ‹¤.

ν™•μ¥ κ°€λ¥ μ—΄κ±° νƒ€μ… μμ‹)

```java
public enum ExtendedOperation implements Operation {
    EXP("^") {
        public double apply(double x, double y) {
            return Math.pow(x, y);
        }
    },
    REMAINDER("%") {
        public double apply(double x, double y) {
            return x % y;
        }
    };

    private final String symbol;

    ExtendedOperation(String symbol) {
        this.symbol = symbol;
    }

    @Override public String toString() {
        return symbol;
    }
}
```

β… **Operation μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ©΄ μƒλ΅μ΄ μ—°μ‚°μ„ μ‰½κ² μ¶”κ°€ν•  μ μλ‹¤.**

β†’ Operation μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•λ„λ΅ μ„¤κ³„ν•λ©΄ μƒλ΅μ΄ μ—°μ‚°(EXP, REMAINDER λ“±)μ„ μ–΄λ””μ„λ“  μ¶”κ°€ν•  μ μλ‹¤.

β οΈ **apply() λ©”μ„λ“λ” Operation μΈν„°νμ΄μ¤μ— μ„ μ–Έλμ–΄ μμΌλ―€λ΅, μ—΄κ±° νƒ€μ…μ—μ„ κ°λ³„μ μΌλ΅ μ„ μ–Έν•  ν•„μ”κ°€ μ—†λ‹¤.**

β†’ μ΄λ” κΈ°μ΅΄μ switchλ¬Έ λ°©μ‹λ³΄λ‹¤ λ” κ°μ²΄μ§€ν–¥μ μΈ κµ¬μ΅°λ¥Ό μ κ³µν•λ‹¤.

```java
public static void main(String[] args) {
    double x = Double.parseDouble(args[0]);
    double y = Double.parseDouble(args[1]);

    test(ExtendedOperation.class, x, y);
}
```

β… **μ λ„¤λ¦­ λ©”μ„λ“λ¥Ό μ΄μ©ν•΄ ν™•μ¥λ μ—°μ‚° ν…μ¤νΈ κ°€λ¥**

β†’ test(ExtendedOperation.class, x, y) ν•νƒλ΅ νΈμ¶ν•μ—¬ ExtendedOperationμ λ¨λ“  μ—°μ‚°μ„ ν…μ¤νΈν•  μ μλ‹¤.

```java
private static <T extends Enum<T> & Operation> void test(
        Class<T> opEnumType, double x, double y) {
    for (Operation op : opEnumType.getEnumConstants()) {
        System.out.printf("%f %s %f = %f%n", x, op, y, op.apply(x, y));
    }
}
```

β… **μ λ„¤λ¦­ νƒ€μ… (T extends Enum<T> & Operation>)μ„ ν™μ©ν•μ—¬ μ—΄κ±° νƒ€μ…μ„ μΌλ°ν™”**

β†’ Class<T> λ¦¬ν„°λ΄μ„ ν†µν•΄ μ—΄κ±° νƒ€μ…μ„ λ™μ μΌλ΅ ν™μ©ν•  μ μλ‹¤.

μ—΄κ±° νƒ€μ…μ΄λ©΄μ„ Operation μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν• κ°μ²΄λ§ ν—μ©ν•λ„λ΅ μ ν•λλ‹¤.

**Collectionμ„ ν™μ©ν• ν™•μ¥ κ°€λ¥ν• μ—΄κ±° νƒ€μ…**

```java
public static void main(String[] args) {
    double x = Double.parseDouble(args[0]);
    double y = Double.parseDouble(args[1]);

    test(Arrays.asList(ExtendedOperation.values()), x, y);
}
private static void test(Collection<? extends Operation> opSet,
                         double x, double y) {
    for (Operation op : opSet) {
        System.out.printf("%f %s %f = %f%n", x, op, y, op.apply(x, y));
    }
}
```

β… **Class<T> λ€μ‹  Collection<? extends Operation>μ„ μ‚¬μ©ν•΄ μ μ—°ν• ν…μ¤νΈκ°€ κ°€λ¥**

νΉμ • μ—΄κ±° νƒ€μ…(ExtendedOperation)μ ν…μ¤νΈλΏλ§ μ•„λ‹λΌ,

**μ—¬λ¬ μ—°μ‚° μ§‘ν•©μ„ CollectionμΌλ΅ λ°›μ•„ λ™μ μΌλ΅ μ²λ¦¬**ν•  μ μλ‹¤.

β—οΈ **μ½”λ“ λ³€κ²½μ **

β€Ά test(ExtendedOperation.class, x, y); β†’ test(Arrays.asList(ExtendedOperation.values()), x, y);

β€Ά test() λ©”μ„λ“κ°€ Collectionμ„ λ§¤κ°λ³€μλ΅ λ°›μΌλ©΄μ„ μ›ν•λ” μ—°μ‚°λ§ μ„ νƒν•΄μ„ ν…μ¤νΈν•  μ μλ” **μ μ—°μ„±μ΄ λ†’μ•„μ΅λ‹¤**

β **μ—΄κ±° νƒ€μ… μƒμ†μ μ μ•½**

1.  **Javaμ—μ„λ” μ—΄κ±° νƒ€μ…(enum)κ°„ μƒμ†μ΄ λ¶κ°€λ¥ν•λ‹¤.**
2.  μ΄λ¥Ό ν•΄κ²°ν•κΈ° μ„ν•΄ μΈν„°νμ΄μ¤(Operation)λ΅ **κ³µν†µ κΈ°λ¥μ„ μ¶”μƒν™”**ν•λ‹¤.

β… **λ„μ°λ―Έ ν΄λμ¤λ¥Ό ν†µν• κ³µν†µ κΈ°λ¥ κ΄€λ¦¬**

β†’ BasicOperationκ³Ό ExtendedOperationμ²λΌ λ¨λ“  μ—΄κ±° νƒ€μ…μ΄ **μ—°μ‚° κΈ°νΈλ¥Ό μ €μ¥**ν•΄μ•Ό ν•  λ•,

**λ„μ°λ―Έ ν΄λμ¤λ‚ μ •μ  λ©”μ„λ“λ¥Ό ν™μ©**ν•΄ μ½”λ“ μ¤‘λ³µμ„ μ¤„μΌ μ μλ‹¤.

π’΅ **Java λΌμ΄λΈλ¬λ¦¬μ ν™μ© μ‚¬λ΅€**

β€Ά μμ‹: java.nio.file.LinkOption μ—΄κ±° νƒ€μ…μ΄ CopyOptionκ³Ό OpenOption μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ‹¤

β¨Β **ν•µμ‹¬ μ •λ¦¬**

**μ—΄κ±° νƒ€μ… μμ²΄λ” ν™•μ¥ν•  μ μ—†μ§€λ§, μΈν„°νμ΄μ¤μ™€ κ·Έ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ” κΈ°λ³Έ μ—΄κ±° νƒ€μ…μ„ ν•¨κ» μ‚¬μ©ν•΄ κ°™μ€ ν¨κ³Όλ¥Ό λ‚Ό μ μλ‹¤.** μ΄λ ‡κ² ν•λ©΄ ν΄λΌμ΄μ–ΈνΈλ” μ΄ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•΄ μμ‹ λ§μ μ—΄κ±° νƒ€μ…(νΉμ€ λ‹¤λ¥Έ νƒ€μ…)μ„ λ§λ“¤ μ μλ‹¤. λν• APIκ°€ μΈν„°νμ΄μ¤ κΈ°λ°μΌλ΅ μ‘μ„±λμ–΄ κΈ°λ³Έ μ—΄κ±° νƒ€μ…μ„ λ…μ‹ν•μ§€ μ•λ”λ‹¤λ©΄, κΈ°λ³Έ μ—΄κ±° νƒ€μ…μ μΈμ¤ν„΄μ¤κ°€ μ“°μ΄λ” λ¨λ“  κ³³μ„ μƒλ΅ ν™•μ¥ν• μ—΄κ±° νƒ€μ…μ μΈμ¤ν„΄μ¤λ΅ λ€μ²΄ν•  μ μλ‹¤.
