# 아이템59. 라이브러리를 익히고 사용하라. 

## 권장하지 않는 코드
```
static Random rnd = new Random();

static int random(int n) {
    return Math.abs(rnd.nextInt()) % n;
}
```
위 코드는 괜찮은 듯 보여도 세 가지 문제를 내포하고 있다. 
1. n이 그리 크지 않은 2의 제곱수라면 얼마 지나지 않아 같은 수열이 반복된다.
   - 2의 제곱수는 컴퓨터의 이진수 연산과 잘 맞아 떨어지기에, 특정 값들로 더 자주 매핑될 가능성이 높아진다고 한다...!
2. n이 2의 제곱수가 아니라면 몇몇 숫자가 평균적으로 더 자주 반환된다.
   - rnd.nextInt()이 반환하는 전체 범위(-2³¹ ~ 2³¹-1)가 5로 딱 나누어떨어지지 않기 때문에 일부 값이 더 자주 나타난다...! 즉 1~3 사이의 난수를 반환하고 싶은데 2/3 확률로 1을 반환하는 문제가 생긴다. 
3. 지정한 범위 ‘바깥’의 수가 종종 튀어나올 수 있다.
   - rnd.nextInt()가 반환한 값을 Math.abs를 이용해 음수가 아닌 정수로 매핑하기 때문이다.
   - nextInt()가 Integer.MIN_VALUE(-2147485648)를 반환하면 우리는 Math.abs가 2147485648을 반환하기를 기대한다. 하지만, Java의 int 타입은 표현 가능한 최대값이 2,147,483,647이므로 Math.abs(Integer.MIN_VALUE)는 그대로 Integer.MIN_VALUE(-2,147,483,648)를 반환한다. (2의 제곱수가 아닐때의 시나리오)
  
> 다행이 우리가 직접 이를 해결할 필요는 없다. Random.nextInt(int)가 이미 해결해놨으니 말이다.
> 우리가 이 메서드의 자세한 동작 방식을 알 필요는 없다. 알고리즘에 능통한 개발자가 시간을 들여 개발했고 여러 전문가가 검증을 마쳤다.

## 표준 라이브러리를 사용하면 좋은 점.
1. 표준 라이브러리를 사용하면, 그 코드를 작성한 전문가의 지식과 여러분보다 앞서 사용한 다른 프로그래머들의 경험을 활용할 수 있다.
2. 핵심적인 일과 크게 관련 없는 문제를 해결하느라 시간을 허비하지 않아도 된다.
3. 따로 노력하지 않아도 성능이 지속해서 개선된다.
4. 지속적인 릴리스를 바탕으로 기능이 점점 많아진다.
5. 우리가 작성한 코드가 많은 사람에게 낯익은 코드가 된다.

## 그럼에도 많은 프로그래머가 직접 구현을 한다. 왜??
> ### 몰라서.

메이저 릴리스마다 주목할만한 기능이 라이브러리에 추가된다. 그리고 자바는 새로운 기능을 설명하는 웹페이지를 공시한다.

> 라이브러리가 너무 방대하여 모든 API 문서들을 공부하기는 벅차겠지만, 자바 프로그래머라면 적어도 `java.lang`, `java.util`, `java.io`와 그 하위 패키지들에는 익숙해져야 한다.
> 컬렉션 프레임워크와 스트림 라이브러리도 여러가지로 알아두면 큰 도움이 된다. 
> 다른 라이브러리들은 필요할 때마다 익히길 바란다.

### 자바 표준 다이어리에서 원하는 기능을 찾지 못한다면??
> 그 다음 선택지는 고품질의 서드파티 라이브러리가 될 것이다. 구글의 구아바 라이브러리가 대표적이다.

<hr>

# 정리하자면...
> 아주 특별한 나만의 기능이 아니라면, 누군가 이미 라이브러리 형태로 구현해놓았을 가능성이 크다. 그런 라이브러리가 있다면, 쓰면 된다. 있는지 모르겠다면, 찾아보라.
> 일반적으로 라이브러리 코드는 우리가 직접 작성한 것보다 품질이 좋고, 개선될 가능성이 크다. 
