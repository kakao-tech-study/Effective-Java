# 아이템72. 표준 예외를 사용하라

⚠️ 예외 → 재사용하는 것이 좋다.

자바 라이브러리는 대부분 API에서 쓰기에 충분한 수의 예외를 제공한다.

✅ **표준 예외를 재사용할 때 장점**

1. 많은 프로그래머에게 이미 익숙해진 규약을 그대로 따르기 때문에,
**내 API가 다른 사람이 익히고 사용하기 쉽다.**
2. 내 API를 사용한 프로그램도 낯선 예외를 사용하지 않게 되어 읽기 쉽게 된다.
3. 예외 클래스 수가 적을수록 메모리 사용량도 줄고 클래스를 적재하는 시간도 적게 걸린다.

**많이 재사용 되는 예외, 주요쓰임)**

| **예외** | **주요 쓰임** |
| --- | --- |
| IlligalArgumentException | 허용하지 않는 값이 인수로 건네졌을 때(null은 따로 NullPointerException 처리)  예시: 반복 횟수를 지정하는 매개변수에 음수를 건넬 때 |
| IlligalStateException | 객체가 메서드를 수행하기에 적절하지 않은 상태일 때 |
| NullPointerException | null을 허용하지 않는 메서드에 null을 건넸을 때 |
| IndexOutOfBoundsException | 인덱스 범위를 넘어섰을 때 |
| ConcurrentModificationException | 허용하지 않는 동시 수정이 발견됐을 때 |
| UnsupportedOperationException | 호출한 메서드를 지원하지 않을 때 |

위에 표에 나와있는 것들 말고도 다른 표준 예외들도 있다.

⚠️ 하지만 Exception, RuntimeException, Throwable, Error는 직접 재사용하지 말아야 한다. 이 예외들은 다른 예외들의 상위 클래스이므로,

즉, 여러 성격의 예외들을 포괄하는 클래스이므로 안정적으로 테스트할 수 없다.

**✅ 상황에 부합한다면 항상 표준 예외를 사용할 것!**

이때 API 문서를 참고해 그 예외가 어떤 상황에서 던져지는지 꼭 확인해야 한다.

예외의 이름뿐만 아니라 예외가 던져지는 맥락도 부합할 때만 재사용한다.

더 많은 정보를 제공하고 싶다면 표준 예외를 확장하는 것도 좋은 방법이다.

(다만, 예외는 직렬화가 가능하다는 점을 반드시 기억해야 한다.)

이런 직렬화 특성만으로도 새로운 커스텀 예외를 만들지 말아야 할 충분한 이유가 될 수 있다.

**💡 정리**

1. 표준 예외를 사용하면 코드의 가독성이 높아지고 유지보수가 쉬워진다.
또한 메모리 사용량도 줄일 수 있다.
2. 단, Exception이나 RuntimeException 같은 상위 클래스는 직접 사용하지 말고, API 문서를 참고하여 상황에 맞는 적절한 예외를 선택하여 사용하라.
3. 필요한 경우 표준 예외를 확장하여 사용할 수 있지만, 새로운 커스텀 예외는 신중하게 만들어야 한다.
